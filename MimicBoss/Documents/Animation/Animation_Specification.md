# 寶箱怪動畫規格書

## 文檔資訊
- 版本：v1.0
- 更新日期：2025-08-27
- 動畫師參考文檔

---

## 1. 動畫風格指南

### 1.1 整體風格定義
- **動畫原則**：遵循迪士尼12項動畫原則
- **風格取向**：誇張彈性動作 + 適度寫實物理
- **關鍵特色**：
  - Squash & Stretch（擠壓與拉伸）
  - Anticipation（預備動作）
  - Follow Through（跟隨動作）
  - Secondary Action（次要動作）

### 1.2 時間節奏參考
```
快速動作: 3-5幀
普通動作: 8-12幀  
慢速動作: 15-20幀
過場動畫: 30-60幀
```

---

## 2. 核心動畫詳細規格

### 2.1 偽裝待機 (Idle_Disguise)
```
總幀數: 10幀 @ 12fps (循環)
動作分解:
├─ 幀1-3:   輕微上浮 (+2像素)
├─ 幀4-5:   保持
├─ 幀6-8:   輕微下沉 (-2像素)
└─ 幀9-10:  回到原位

細節要求:
- 木紋輕微扭曲
- 金屬扣環輕晃
- 偶爾露出一絲眼縫（5%機率）
```

### 2.2 覺醒變身 (Transform_Awaken)
```
總幀數: 40幀 @ 24fps (一次性)
階段劃分:

[預兆階段] 幀1-8
- 幀1-2:   急速震動 (±3像素)
- 幀3-4:   停頓（預備感）
- 幀5-8:   箱蓋縫隙睜開眼睛

[爆發階段] 幀9-20  
- 幀9-10:  箱蓋猛然打開45°
- 幀11-12: 舌頭彈出（快速）
- 幀13-15: 第一排牙齒露出
- 幀16-18: 第二排牙齒生長
- 幀19-20: 口水/黏液滴落

[成型階段] 幀21-35
- 幀21-25: 箱子底部裂開
- 幀26-30: 木板重組成四肢
- 幀31-35: 全身震動調整

[怒吼階段] 幀36-40
- 幀36-37: 深吸氣（身體膨脹120%）
- 幀38-39: 怒吼（嘴張最大）
- 幀40:    進入戰鬥待機
```

### 2.3 咬擊攻擊 (Attack_Bite)
```
總幀數: 15幀 @ 30fps
動作時間軸:

預備: 幀1-3
- 身體後仰30°
- 嘴巴微張
- 眼睛瞇起

執行: 幀4-8
- 幀4-5: 極速前撲（移動2個身位）
- 幀6:   嘴巴張到最大（160°）
- 幀7-8: 咬合（牙齒交錯）

收招: 幀9-15
- 幀9-11:  保持咬合（震動效果）
- 幀12-13: 鬆口
- 幀14-15: 回到待機姿勢

關鍵細節:
- 咬合瞬間加入白色閃光
- 牙齒需要交錯咬合動畫
- 口水飛濺效果
```

### 2.4 舌頭鞭打 (Attack_Tongue_Whip)
```
總幀數: 20幀 @ 24fps

預備: 幀1-4
- 舌頭縮回口中
- 身體側轉45°
- 蓄力效果（身體微顫）

攻擊: 幀5-12
- 幀5-6:   舌頭快速伸出
- 幀7-9:   橫掃120°扇形
- 幀10-12: 舌尖甩動（鞭子效果）

回收: 幀13-20
- 幀13-15: 舌頭彈性回收
- 幀16-18: 黏液殘留軌跡
- 幀19-20: 回到待機

物理表現:
- 舌頭需要鞭子物理
- 末端速度最快
- 留下黏液軌跡
```

### 2.5 跳躍撲擊 (Attack_Jump)
```
總幀數: 30幀 @ 30fps

預備: 幀1-6
- 幀1-3: 身體下壓（Squash 70%高度）
- 幀4-6: 震動蓄力

起跳: 幀7-10
- 幀7-8:  彈起（Stretch 150%高度）
- 幀9-10: 離地上升

空中: 幀11-20
- 幀11-15: 上升階段（旋轉180°）
- 幀16-18: 最高點（慢動作感）
- 幀19-20: 開始下落

落地: 幀21-30
- 幀21-22: 加速下落
- 幀23-24: 撞擊地面（Squash 50%）
- 幀25-27: 震波擴散
- 幀28-30: 恢復正常

特效需求:
- 起跳煙塵
- 空中殘影
- 落地震波圈
- 地面裂痕
```

### 2.6 金幣噴射 (Attack_Gold_Spray)
```
總幀數: 25幀 @ 24fps

準備: 幀1-6
- 幀1-3: 腹部鼓起（150%大小）
- 幀4-6: 發光效果增強

噴射: 幀7-18
- 幀7-9:   第一波金幣（5枚）
- 幀10-12: 第二波金幣（8枚）
- 幀13-15: 第三波金幣（10枚）
- 幀16-18: 零散金幣（3-5枚）

結束: 幀19-25
- 幀19-21: 腹部收縮
- 幀22-23: 打嗝動作
- 幀24-25: 回到待機

金幣物理:
- 拋物線軌跡
- 地面彈跳2-3次
- 旋轉發光效果
```

---

## 3. 過渡動畫規格

### 3.1 階段轉換動畫

#### 進入第二階段 (Transform_Phase2)
```
總幀數: 25幀
觸發條件: HP降至60%

動作內容:
- 幀1-5:   憤怒顫抖
- 幀6-10:  箱子碎片脫落
- 幀11-15: 長出木板手臂
- 幀16-20: 站立起身
- 幀21-25: 新姿態展示
```

#### 狂暴化 (Transform_Rage)
```
總幀數: 20幀
觸發條件: HP降至30%

動作內容:
- 幀1-3:   眼睛發紅光
- 幀4-8:   全身泛紅
- 幀9-12:  狂暴嘶吼
- 幀13-16: 金幣從縫隙掉落
- 幀17-20: 進入狂暴待機
```

---

## 4. 動畫混合規則

### 4.1 動畫優先級
```
優先級10: 死亡、變身
優先級9:  重擊硬直
優先級8:  輕擊硬直
優先級7:  特殊技能
優先級6:  跳躍攻擊
優先級5:  普通攻擊
優先級4:  防禦動作
優先級3:  移動
優先級2:  轉向
優先級1:  呼吸待機
優先級0:  環境互動
```

### 4.2 動畫融合參數
```json
{
  "blend_time": {
    "idle_to_attack": 0.1,
    "attack_to_idle": 0.2,
    "hit_to_idle": 0.15,
    "movement_blend": 0.1
  },
  "layer_weights": {
    "base_layer": 1.0,
    "upper_body": 0.5,
    "facial": 0.8,
    "vfx_layer": 1.0
  }
}
```

---

## 5. 細節動畫要求

### 5.1 次要動作清單
- **呼吸**：胸腔起伏，3秒週期
- **眨眼**：隨機間隔2-5秒
- **口水**：持續滴落，重力影響
- **木屑**：受擊時飛濺
- **金幣閃光**：腹部發光脈動
- **舌頭擺動**：待機時輕微擺動

### 5.2 材質動畫
```
木紋流動: 2幀循環，UV偏移
金屬光澤: 4幀循環，高光移動
黏液流動: 3幀循環，vertex動畫
眼睛發光: 漸變動畫，2秒週期
```

---

## 6. 特效配合指南

### 6.1 粒子特效觸發點
| 動畫 | 觸發幀 | 特效類型 | 持續時間 |
|------|--------|----------|----------|
| 覺醒變身 | 第9幀 | 木屑爆炸 | 1秒 |
| 咬擊 | 第7幀 | 咬合火花 | 0.2秒 |
| 舌頭鞭打 | 第8幀 | 黏液飛濺 | 0.5秒 |
| 跳躍落地 | 第23幀 | 煙塵震波 | 1.5秒 |
| 金幣噴射 | 第7-18幀 | 金幣軌跡 | 2秒 |

### 6.2 音效同步點
```
覺醒怒吼:    第38幀
咬合聲:      第7幀
舌頭甩動:    第8幀
落地重擊:    第23幀
金幣嘩啦聲:  第7幀開始
```

---

## 7. 效能優化建議

### 7.1 LOD（細節層次）設定
```
LOD0 (近距離): 完整動畫，所有細節
LOD1 (中距離): 移除次要動作，簡化粒子
LOD2 (遠距離): 降低幀率，移除細節動畫
LOD3 (超遠):   靜態圖片，僅位置更新
```

### 7.2 動畫壓縮
- 使用骨骼動畫減少記憶體
- 共用相似關鍵幀
- 循環動畫優化儲存

---

## 8. 製作檢查清單

### 必要動畫（第一批）
- [ ] 偽裝待機
- [ ] 覺醒變身
- [ ] 戰鬥待機
- [ ] 基礎咬擊
- [ ] 基礎移動
- [ ] 受擊反應
- [ ] 死亡動畫

### 進階動畫（第二批）
- [ ] 舌頭攻擊系列
- [ ] 金幣攻擊系列
- [ ] 階段轉換動畫
- [ ] 特殊技能動畫

### 潤色動畫（第三批）
- [ ] 各種小動作
- [ ] 表情變化
- [ ] 環境互動
- [ ] 彩蛋動畫

---

## 9. 參考資源連結
- 迪士尼動畫原則參考
- 寶箱怪動作參考影片
- 物理模擬參考
- 特效時機參考圖表

---

## 更新紀錄
- 2025-08-27: 初版規格建立