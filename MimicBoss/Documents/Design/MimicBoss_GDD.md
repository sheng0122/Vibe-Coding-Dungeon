# 寶箱怪（Mimic Boss）遊戲設計文檔

## 版本資訊
- 文檔版本：v1.0
- 更新日期：2025-08-27
- 負責人：遊戲設計團隊

---

## 1. 概念設計

### 1.1 核心概念
寶箱怪是一種偽裝成寶箱的Boss敵人，結合了「貪婪」與「欺騙」的主題。當玩家接近看似無害的寶箱時，它會突然變身成危險的怪物。

### 1.2 設計理念
- **主題**：貪婪、欺騙、驚喜
- **情緒曲線**：期待 → 驚嚇 → 緊張戰鬥 → 勝利獎勵
- **玩法核心**：識別真假寶箱、動態戰鬥、豐厚獎勵

### 1.3 視覺風格
- **可選風格**：
  - 恐怖風：強調牙齒、黏液、扭曲
  - 可愛風：Q版比例、誇張表情、彈性動作
- **關鍵特徵**：
  - 木質紋理寶箱外觀
  - 巨大舌頭（紫紅色）
  - 尖銳牙齒（2-3排）
  - 發光眼睛（紅色或金色）

---

## 2. 角色數據

### 2.1 基礎屬性
```
生命值(HP): 500-800 (根據難度調整)
攻擊力: 25-40
防禦力: 20
移動速度: 3.5 (偽裝時: 0)
攻擊範圍: 近戰2格，遠程8格
偵測範圍: 5格
```

### 2.2 階段設定
| 階段 | HP範圍 | 形態 | 攻速加成 | 傷害加成 | 特殊能力 |
|------|--------|------|----------|----------|----------|
| 階段1 | 100%-60% | 半箱子形態 | 1.0x | 1.0x | 基礎攻擊 |
| 階段2 | 60%-30% | 完全體形態 | 1.3x | 1.2x | 解鎖所有技能 |
| 階段3 | 30%-0% | 狂暴形態 | 1.5x | 1.5x | 持續掉金幣 |

---

## 3. 戰鬥系統

### 3.1 攻擊模式列表

#### 基礎攻擊
| 攻擊名稱 | 傷害 | 冷卻時間 | 範圍 | 動畫幀數 | 描述 |
|----------|------|----------|------|----------|------|
| 咬擊 | 30 | 2秒 | 近戰2格 | 15幀 | 快速前咬 |
| 舌頭鞭打 | 25 | 3秒 | 5格扇形 | 20幀 | 橫掃攻擊 |
| 跳躍撲擊 | 40 | 5秒 | 3x3範圍 | 30幀 | 跳起砸地 |

#### 特殊攻擊
| 攻擊名稱 | 傷害 | 冷卻時間 | 效果 | 解鎖階段 |
|----------|------|----------|------|----------|
| 舌頭黏液 | 15 | 4秒 | 減速50%持續3秒 | 階段1 |
| 金幣彈幕 | 10x5 | 6秒 | 扇形多段攻擊 | 階段2 |
| 假金幣陷阱 | 50 | 8秒 | 延遲爆炸 | 階段2 |
| 木板迴旋鏢 | 35 | 5秒 | 穿透攻擊 | 階段2 |
| 狂暴連擊 | 20x3 | 10秒 | 連續攻擊 | 階段3 |

### 3.2 AI行為樹

```
根節點
├─ 偵測玩家
│  ├─ 玩家進入範圍 → 覺醒變身
│  └─ 玩家在攻擊範圍內 → 選擇攻擊
├─ 戰鬥行為
│  ├─ 近距離（<3格）
│  │  ├─ 30% 咬擊
│  │  ├─ 30% 舌頭鞭打
│  │  └─ 40% 跳開拉距離
│  ├─ 中距離（3-5格）
│  │  ├─ 25% 跳躍撲擊
│  │  ├─ 25% 舌頭黏液
│  │  ├─ 25% 金幣攻擊
│  │  └─ 25% 追擊
│  └─ 遠距離（>5格）
│     ├─ 40% 快速接近
│     ├─ 30% 金幣彈幕
│     └─ 30% 設置陷阱
└─ 特殊行為
   ├─ HP<30% → 進入狂暴
   └─ 受困 → 掙脫動作
```

---

## 4. 動畫系統

### 4.1 動畫清單

| 類別 | 動畫名稱 | 幀數 | 循環 | 優先級 | 備註 |
|------|----------|------|------|--------|------|
| 待機 | Idle_Disguise | 8-10 | 是 | 0 | 偽裝狀態微動 |
| 待機 | Idle_Combat | 12-15 | 是 | 0 | 戰鬥呼吸動畫 |
| 待機 | Idle_Damaged | 6-8 | 是 | 0 | 受傷後待機 |
| 變身 | Transform_Awaken | 30-40 | 否 | 10 | 覺醒變身 |
| 變身 | Transform_Phase2 | 20-25 | 否 | 10 | 進入階段2 |
| 變身 | Transform_Rage | 15-20 | 否 | 10 | 狂暴化 |
| 攻擊 | Attack_Bite | 15 | 否 | 5 | 咬擊 |
| 攻擊 | Attack_Tongue_Whip | 20 | 否 | 5 | 舌頭橫掃 |
| 攻擊 | Attack_Jump | 30 | 否 | 6 | 跳躍撲擊 |
| 攻擊 | Attack_Gold_Spray | 25 | 否 | 5 | 金幣噴射 |
| 移動 | Move_Jump | 12 | 否 | 3 | 跳躍移動 |
| 移動 | Move_Chase | 8 | 是 | 3 | 追擊奔跑 |
| 受擊 | Hit_Light | 6 | 否 | 8 | 輕度受擊 |
| 受擊 | Hit_Heavy | 10 | 否 | 9 | 重度受擊 |
| 死亡 | Death_Explode | 40-50 | 否 | 10 | 爆炸死亡 |

### 4.2 動畫細節規格

#### 覺醒變身 (Transform_Awaken)
```
幀 1-5:    寶箱輕微震動
幀 6-10:   蓋子慢慢打開（縫隙出現眼睛）
幀 11-15:  舌頭伸出
幀 16-25:  箱子裂開，露出牙齒
幀 26-30:  完全變身，怒吼
幀 31-40:  進入戰鬥待機
```

#### 咬擊攻擊 (Attack_Bite)
```
幀 1-3:    預備動作（後仰）
幀 4-5:    快速前衝
幀 6-8:    咬合（牙齒閉合）
幀 9-12:   保持咬合
幀 13-15:  恢復待機
```

---

## 5. 音效設計

### 5.1 音效列表
| 音效類型 | 檔案命名 | 描述 | 時長 |
|----------|----------|------|------|
| 環境音 | SFX_Mimic_Idle | 木頭嘎吱聲 | 循環 |
| 覺醒 | SFX_Mimic_Awaken | 變身怒吼 | 2-3秒 |
| 攻擊音 | SFX_Bite | 咬合聲 | 0.5秒 |
| 攻擊音 | SFX_Tongue | 黏液甩動聲 | 1秒 |
| 攻擊音 | SFX_Gold_Coins | 金幣嘩啦聲 | 1.5秒 |
| 移動音 | SFX_Jump_Land | 落地重擊 | 0.3秒 |
| 受擊音 | SFX_Hit_Wood | 木頭碎裂聲 | 0.2秒 |
| 死亡音 | SFX_Death_Explosion | 爆炸＋金幣散落 | 3秒 |

### 5.2 音樂需求
- **偽裝階段**：無音樂或環境音
- **戰鬥階段**：節奏感強的戰鬥BGM（120-140 BPM）
- **狂暴階段**：音樂加速、增加緊張感

---

## 6. 獎勵系統

### 6.1 掉落物品
| 階段 | 金幣 | 稀有道具機率 | 特殊獎勵 |
|------|------|--------------|----------|
| 擊敗後 | 100-200 | 30% | 寶箱鑰匙×1 |
| 完美擊殺 | 300-400 | 50% | 稀有裝備×1 |
| 速殺獎勵 | 150-250 | 40% | 經驗加成20% |

### 6.2 成就系統
- **首次擊敗**：「寶箱獵人」
- **無傷擊敗**：「完美欺詐師」
- **30秒內擊敗**：「快速識破」
- **被假金幣騙3次**：「貪婪的代價」

---

## 7. 平衡性設計

### 7.1 難度調整參數
```json
{
  "簡單": {
    "hp_multiplier": 0.7,
    "damage_multiplier": 0.8,
    "attack_speed": 0.9,
    "gold_reward": 1.0
  },
  "普通": {
    "hp_multiplier": 1.0,
    "damage_multiplier": 1.0,
    "attack_speed": 1.0,
    "gold_reward": 1.0
  },
  "困難": {
    "hp_multiplier": 1.5,
    "damage_multiplier": 1.3,
    "attack_speed": 1.2,
    "gold_reward": 1.5
  }
}
```

### 7.2 玩家對策提示
- 觀察寶箱細節（呼吸、眼睛）
- 保持中距離戰鬥
- 優先躲避金幣陷阱
- 利用場地障礙物

---

## 8. 實作優先級

### Phase 1 - 核心功能（第1-2週）
- [ ] 基礎AI框架
- [ ] 偽裝/覺醒機制
- [ ] 基礎攻擊（咬擊）
- [ ] 移動系統
- [ ] 基礎動畫

### Phase 2 - 功能擴展（第3-4週）
- [ ] 完整攻擊系統
- [ ] 階段轉換
- [ ] 特殊技能
- [ ] 音效整合

### Phase 3 - 打磨優化（第5週）
- [ ] 動畫細節
- [ ] 特效強化
- [ ] 平衡性調整
- [ ] Bug修復

---

## 9. 風險評估

| 風險項目 | 可能性 | 影響 | 應對方案 |
|----------|--------|------|----------|
| 動畫工作量過大 | 高 | 高 | 分階段實作，優先核心動畫 |
| AI過於複雜 | 中 | 中 | 使用行為樹簡化邏輯 |
| 效能問題 | 低 | 高 | 優化渲染批次，減少特效 |
| 平衡性問題 | 高 | 中 | 預留充足測試時間 |

---

## 10. 參考資源
- 《暗黑地牢》寶箱怪設計
- 《黑暗靈魂》系列寶箱怪
- 《Enter the Gungeon》可愛風格
- 《泰拉瑞亞》像素風格

---

## 更新日誌
- 2025-08-27: 初版文檔建立